{{/* My Custom Hugo Blox */}}
{{/* https://hugoblox.com */}}

{{/* Initialise the block */}}
{{ $page := .wcPage }}
{{ $block := .wcBlock }}

{{/* Your Hugo variables */}}
{{/* Access custom front matter content via `$block.content`. */}}
{{/* E.g. access a `title` field via `$block.content.title`. */}}
{{/* Pipe the field to `$page.RenderString` to parse it as Markdown. */}}
{{ $title := $block.content.title | $page.RenderString }}
{{ $text := $block.content.text | $page.RenderString }}

{{/* Add your block layout below */}}
{{/* Styles (in the form of vanilla CSS) can be added to the CSS file. */}}
{{/* Tailwind styles can optionally be used with the extra step of compiling Tailwind. */}}
{{/* Access custom front matter design options via `$block.design`. */}}
{{/* E.g. access a `show_title` field via `$block.design.show_title`. */}}

<div class="container">
    <div class="flex flex-col items-center max-w-prose mx-auto gap-3 justify-center text-center">
        
        <div class="mb-6 text-3xl font-bold text-gray-900 dark:text-white">
            <h1 class="title">{{ $title }}</h1>
        </div>
        
        <div class="photo-gallery">
            {{ $images := resources.Match "gallery/*" }}
            {{ $numColumns := 4 }}
            <div class="columns" style="--num-columns: {{ $numColumns }};">
                {{ range $i := seq 0 (sub $numColumns 1) }}
                    <div class="column">
                        {{ range $j, $image := $images }}
                            {{ if eq (mod $j $numColumns) $i }}
                                <div class="photo">
                                    <img src="{{ $image.RelPermalink }}" alt="" loading="lazy">
                                </div>
                            {{ end }}
                        {{ end }}
                    </div>
                {{ end }}
            </div>
        </div>
    </div>
</div>




<style>

    .title {
        font-weight: bold;
    }
    
    .container {
        max-width: 1224px;
        width: 95%;
        margin: 0 auto;        
    }
    
    .photo-gallery {
        display: flex;
        gap: 10px; /* Adjust the gap between the columns */
        justify-content: center; /* Center the columns */
        flex-wrap: wrap;  
    }
    
    .columns {
        display: flex;
        gap: 20px;
        width: 100%;
    }
    
    .column {
        flex: 1;
        display: flex;
        flex-direction: column;
        gap: 10px;
    }
    
    .photo {
        overflow: hidden;
    }
    
    .photo img {
        width: 100%;
        height: auto;
        display: block;
        border-radius: 8px;
      }

    /** Phone view stuff! **/
    @media screen and (max-width: 768px) {
        .columns {
            display: block;
        }
    
        .column .photo:last-child {
            margin-bottom: 20px;
        }

        .photo img {
            justify-content: center;
       }
    }
</style>